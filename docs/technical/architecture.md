# 系统架构说明

## 整体架构
Flappy Bird游戏采用模块化设计，主要包含以下几个核心模块：

1. **游戏控制模块**：负责游戏状态管理、分数计算和游戏流程控制
2. **小鸟控制模块**：负责小鸟的物理运动、输入响应和动画播放
3. **水管生成模块**：负责水管的生成、移动和回收
4. **碰撞检测模块**：负责检测小鸟与水管、地面的碰撞
5. **UI模块**：负责游戏界面的显示、更新和交互

## 模块详细设计

### 1. 游戏控制模块 (GameManager)
- 负责管理游戏的生命周期（开始、运行、结束）
- 维护游戏状态变量和分数数据
- 协调其他模块的工作
- 处理游戏重启和场景切换

### 2. 小鸟控制模块 (BirdController)
- 处理玩家输入（点击/触摸）
- 实现小鸟的物理运动（重力、跳跃）
- 控制小鸟的动画播放
- 发送碰撞信号给游戏控制模块

### 3. 水管生成模块 (PipeSpawner)
- 定期生成水管对
- 控制水管的移动速度
- 回收超出屏幕的水管以重用
- 随机调整水管间隙的位置

### 4. 碰撞检测模块
- 使用Godot内置的碰撞检测系统
- 检测小鸟与水管、地面的碰撞
- 触发相应的游戏状态变化

### 5. UI模块
- 显示当前分数和最高分
- 显示游戏开始、结束界面
- 处理UI元素的交互事件

## 数据流向
1. 玩家输入 -> 小鸟控制模块 -> 小鸟移动
2. 水管生成模块 -> 生成水管 -> 水管移动
3. 碰撞检测模块 -> 检测到碰撞 -> 发送信号给游戏控制模块
4. 游戏控制模块 -> 更新分数 -> UI模块更新显示

## 技术选型
- 游戏引擎：Godot Engine 4.x
- 编程语言：GDScript
- 图形渲染：使用Godot的2D渲染系统
- 物理系统：使用Godot的2D物理引擎
- 音频系统：使用Godot的音频引擎